Description: Introduce --enable-lto option for configure
Author: Steffen Moeller <moeller@debian.org>
Index: boinc-app-seti/m4/optimizations.m4
===================================================================
--- boinc-app-seti.orig/m4/optimizations.m4
+++ boinc-app-seti/m4/optimizations.m4
@@ -45,6 +45,24 @@ if test x_$enable_sse = x_yes ; then
   fi
 fi
 
+AC_ARG_ENABLE([lto],
+    AC_HELP_STRING([--enable-lto],
+       [Use Link Time Optimizations])
+)
+
+if test x_$enable_lto = x_yes ; then
+  AC_DEFINE_UNQUOTED([USE_LTO],[1],
+    [Define to 1 to learn that LTO was enabled])
+# put compiler specific flags here
+  if test x_$ac_cv_c_compiler_gnu = x_yes ; then
+    CFLAGS="-flto ${CFLAGS}"
+    LD=gcc
+    LDFLAGS="-flto ${LDFLAGS}"
+    AR=gcc-ar
+    RANLIB=gcc-ranlib
+  fi
+fi
+
 AC_ARG_ENABLE([mmx],
     AC_HELP_STRING([--enable-mmx],
        [Use MMX optimizations])
